{"version":3,"sources":["01_main.js"],"names":["smoothScroll","document","querySelectorAll","forEach","anchor","addEventListener","e","preventDefault","querySelector","this","getAttribute","scrollIntoView","behavior","Marquee","selector","speed","parentSelector","clone","innerHTML","firstElement","children","i","insertAdjacentHTML","setInterval","style","marginLeft","clientWidth","window","smSize","mdSize","position","slidesToShow","innerWidth","index","slidesToScroll","container","track","btnPrev","btnNext","navigation","items","itemsCount","length","itemWidth","Math","floor","movePosition","commonItems","textContent","item","minWidth","setPosition","transform","checkBtns","disabled","checkIndex","moveForward","itemsLeft","abs","moveBack","loop","autoPlay","timeoutId","clearTimeout","btnPrevStages","btnNextStages","wrapContainer","stagesItem","dots","pos","currentIndex","dot","createElement","classList","add","append","height","clientHeight","next","remove","offsetWidth","prev","images","options","root","rootMargin","threshold","handleImg","myImg","observer","myImgSingle","intersectionRatio","loadImage","target","image","src","IntersectionObserver","img","observe"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["const smoothScroll = () => {\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n        document.querySelector(this.getAttribute('href')).scrollIntoView({\n            behavior: 'smooth'\n        });\n    });\n  });\n};\n\n\nconst Marquee = ( selector, speed ) => {\n  const parentSelector = document.querySelector(selector);\n  const clone = parentSelector.innerHTML;\n  const firstElement = parentSelector.children[0];\n  let i = 0;\n  \n  parentSelector.insertAdjacentHTML('beforeend', clone);\n  parentSelector.insertAdjacentHTML('beforeend', clone);\n\n  setInterval( () => {\n    firstElement.style.marginLeft = `-${i}px`;\n    if ( i > firstElement.clientWidth ) {\n      i = 0;\n    }\n    i = i + speed;\n  }, 0 );\n}\n\nwindow.addEventListener('load', ()=>{\n  Marquee('.running-line__track.-s', .3 );\n  Marquee( '.running-line__track.-f', .3 );\n  smoothScroll();\n});\n\nconst smSize = 768;\nconst mdSize = 1024;\n\nlet position = 0;\nlet slidesToShow = 3;\n\nif(window.innerWidth <= mdSize && window.innerWidth > smSize) {\n   slidesToShow = 2;\n}else if (window.innerWidth <= smSize) {\n  slidesToShow = 1;\n}\n\nlet index = slidesToShow;\nconst slidesToScroll = 1;\nconst container = document.querySelector('.participants__container');\nconst track = document.querySelector('.participants__track');\nconst btnPrev = document.querySelector('#participants-left');\nconst btnNext = document.querySelector('#participants-right');\nconst navigation = document.querySelector('.participants__navigation');\nconst items = document.querySelectorAll('.participants__item');\nconst itemsCount = items.length;\nconst itemWidth = Math.floor(container.clientWidth / slidesToShow);\nconst movePosition = slidesToScroll * itemWidth;\nconst commonItems = document.querySelector('.slider__info');\ncommonItems.textContent = `${slidesToShow} / ${items.length}`;\n\nitems.forEach((item)=>{\n  item.style.minWidth = `${itemWidth}px`;\n});\n\nconst setPosition = () => {\n  track.style.transform = `translateX(${position}px)`;\n}\n\nconst checkBtns = () => {\n  btnPrev.disabled = position === 0;\n  btnNext.disabled = position === Math.floor(-(itemsCount - slidesToShow) * itemWidth);\n};\n\nconst checkIndex = () => {\n  commonItems.textContent = `${index} / ${items.length}`;\n};\n\nconst moveForward = () => {\n  const itemsLeft = itemsCount - (Math.abs(position) + slidesToShow * itemWidth) / itemWidth;\n  position -= itemsLeft >= slidesToScroll ? movePosition : itemsLeft * itemWidth;\n  index++;\n  setPosition();\n  checkIndex();\n  checkBtns();\n}\n\nconst moveBack = () => {\n  const itemsLeft = Math.abs(position) / itemWidth;\n  position += itemsLeft >= slidesToScroll ? movePosition : itemsLeft * itemWidth;\n  index--;\n  setPosition();\n  checkIndex();\n  checkBtns();\n};\n\nconst loop = () => {\n  if(position <= Math.floor(-(itemsCount - slidesToShow) * itemWidth)){\n    index = slidesToShow-1;\n    position = itemWidth;\n  }\n};\n\nconst autoPlay = () => {\n    timeoutId = setInterval(() => {\n      loop();\n      moveForward();\n    }, 4000);\n}\n\ncheckBtns();\ncheckIndex();\nautoPlay();\nsetPosition();\n\nbtnNext.addEventListener('click',moveForward);\nbtnPrev.addEventListener('click', moveBack);\nnavigation.addEventListener(\"mouseenter\", () => clearTimeout(timeoutId));\nnavigation.addEventListener(\"mouseleave\", autoPlay);\ncontainer.addEventListener(\"mouseenter\", () => clearTimeout(timeoutId));\ncontainer.addEventListener(\"mouseleave\", autoPlay);\n\nconst btnPrevStages = document.querySelector('#stages-left');\nconst btnNextStages = document.querySelector('#stages-right');\nconst wrapContainer = document.querySelector('.stages__wrap');\nconst stagesItem = document.querySelectorAll('.stages__item');\nconst dots = document.querySelector('.slider__dots');\nlet pos = 0;\nlet currentIndex = 0;\n\nfor(let i = 0; i < stagesItem.length; i++){\n  const dot = document.createElement('div');\n  dot.classList.add('slider__dots-item');\n  dots.append(dot);\n}\nif (window.innerWidth <= smSize) {\n  wrapContainer.style.height = `${stagesItem[currentIndex].clientHeight}px`;\n}\ndots.children[currentIndex].classList.add('active');\n\nconst next = () => {\n  currentIndex++;\n  btnPrevStages.disabled = false;\n  dots.children[currentIndex-1].classList.remove('active');\n  dots.children[currentIndex].classList.add('active');\n  pos += stagesItem[0].offsetWidth+20;\n  wrapContainer.style.transform = `translateX(-${pos}px)`;\n  wrapContainer.style.height = `${stagesItem[currentIndex].clientHeight}px`;\n  currentIndex == stagesItem.length-1 ? btnNextStages.disabled = true : false;\n}\n\nconst prev = () => {\n  currentIndex--;\n  btnNextStages.disabled = false;\n  dots.children[currentIndex+1].classList.remove('active');\n  dots.children[currentIndex].classList.add('active');\n  pos -= stagesItem[0].offsetWidth+20;\n  wrapContainer.style.transform = `translateX(-${pos}px)`;\n  wrapContainer.style.height = `${stagesItem[currentIndex].clientHeight}px`;\n  currentIndex == 0 ? btnPrevStages.disabled = true : false;\n}\n\nbtnNextStages.addEventListener('click',next);\nbtnPrevStages.addEventListener('click',prev);\n\n\nconst images = document.querySelectorAll('img');\n\nconst options = {\n  root: null,\n  rootMargin: '0px',\n  threshold: 0.1\n}\n\nfunction handleImg(myImg, observer){\n  myImg.forEach(myImgSingle => {\n    if(myImgSingle.intersectionRatio > 0){\n      loadImage(myImgSingle.target);\n    }\n  })\n}\n\nfunction loadImage(image){\n  image.src = image.getAttribute('data');\n}\n\nconst observer = new IntersectionObserver(handleImg, options);\n\nimages.forEach(img =>{\n  observer.observe(img);\n})"]}